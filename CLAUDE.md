# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Context

–≠—Ç–æ —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∫—É—Ä—Å–∞ **Vibe Coding 2025** (–ò–¢–ú–û, –º–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞).

**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π MVP –æ–¥–Ω–æ–≥–æ –∏–∑ 20 –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º BDD-–ø–æ–¥—Ö–æ–¥–∞ –∏ AI –∫–∞–∫ —Å–æ–∞–≤—Ç–æ—Ä–∞.

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ (25 –±–∞–ª–ª–æ–≤)

1. **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å MVP** (2-5 –±–∞–ª–ª–æ–≤) - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–µ—à–∞–µ—Ç –∑–∞—è–≤–ª–µ–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É
2. **–≠–≤–æ–ª—é—Ü–∏—è –∫–æ–º–º–∏—Ç–æ–≤** (2-5 –±–∞–ª–ª–æ–≤) - 10+ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤, –≤–∏–¥–Ω–æ —Ä–∞–∑–≤–∏—Ç–∏–µ
3. **–¢–µ—Å—Ç—ã** (2-5 –±–∞–ª–ª–æ–≤) - pytest-bdd —Å .feature —Ñ–∞–π–ª–∞–º–∏, —Ç–µ—Å—Ç—ã –î–û –∫–æ–¥–∞
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (2-5 –±–∞–ª–ª–æ–≤) - README + CLAUDE.md + –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
5. **Vibe Coding –ø–æ–¥—Ö–æ–¥** (2-5 –±–∞–ª–ª–æ–≤) - BDD –∫–∞–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, AI –∫–∞–∫ —Å–æ–∞–≤—Ç–æ—Ä

## Development Workflow

### 1. BDD-First Approach

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: –¢–µ—Å—Ç—ã –ø–∏—à—É—Ç—Å—è –î–û –∫–æ–¥–∞!

```bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
tests/
‚îú‚îÄ‚îÄ features/          # BDD .feature —Ñ–∞–π–ª—ã (Gherkin)
‚îî‚îÄ‚îÄ steps/            # Step definitions (pytest-bdd)
```

**–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã**:
1. –ù–∞–ø–∏—Å–∞—Ç—å .feature —Ñ–∞–π–ª —Å BDD-—Å—Ü–µ–Ω–∞—Ä–∏–µ–º (Gherkin)
2. –°–æ–∑–¥–∞—Ç—å step definitions –¥–ª—è pytest-bdd
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç (Red)
4. –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ (Green)
5. –û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (Refactor)

### 2. Running Tests

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest

# –ó–∞–ø—É—Å–∫ —Å –≤—ã–≤–æ–¥–æ–º BDD-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
pytest --gherkin-terminal-reporter

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ .feature —Ñ–∞–π–ª–∞
pytest tests/features/–∏–º—è_—Ñ–∞–π–ª–∞.feature
```

### 3. Common Commands

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install pytest pytest-bdd

# –î–ª—è Telegram –±–æ—Ç–æ–≤
pip install aiogram

# –î–ª—è CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
pip install click
```

## Project Structure

```
project-root/
‚îú‚îÄ‚îÄ README.md           # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ + –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ CLAUDE.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt    # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ ...            # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ features/      # BDD .feature —Ñ–∞–π–ª—ã (Gherkin)
‚îÇ   ‚îî‚îÄ‚îÄ steps/         # Step definitions (pytest-bdd)
‚îî‚îÄ‚îÄ .gitignore
```

## Git Workflow

**–í–∞–∂–Ω–æ**: –î–µ–ª–∞—Ç—å —á–∞—Å—Ç—ã–µ, –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã (10+ –∑–∞ –ø—Ä–æ–µ–∫—Ç)

–ö–æ–º–º–∏—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–≤–æ–ª—é—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
- –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤–µ—Å—å –∫–æ–¥ —Å—Ä–∞–∑—É
- –ö–æ–º–º–∏—Ç–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
- –ö–æ–º–º–∏—Ç–∏—Ç—å –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–π —Ñ–∏—á–∏
- –°–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º–∏

–ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤:
```
1. Add initial BDD scenarios for booking rooms
2. Implement step definitions for room booking
3. Add room availability checker
4. Add SQLite database schema
5. Implement booking storage
6. Add tests for booking conflicts
7. Implement conflict detection
8. Add user notification feature
9. Add README with setup instructions
10. Add CLAUDE.md documentation
```

## Technology Stack Recommendations

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

**–î–ª—è Telegram –±–æ—Ç–æ–≤**:
- `aiogram` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Telegram Bot API
- `SQLite` - –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î
- `APScheduler` - –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á

**–î–ª—è CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**:
- `click` - —Å–æ–∑–¥–∞–Ω–∏–µ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `SQLite` - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `datetime/pytz` - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏

## BDD Examples

### –ü—Ä–∏–º–µ—Ä .feature —Ñ–∞–π–ª–∞:

```gherkin
Feature: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫
  –ö–∞–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –æ—Ñ–∏—Å–∞
  –Ø —Ö–æ—á—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
  –ß—Ç–æ–±—ã –Ω–µ –∏—Å–∫–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã –≤—Ä—É—á–Ω—É—é

  Scenario: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–±–æ–¥–Ω—ã—Ö –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫
    Given –≤ –±–∞–∑–µ –µ—Å—Ç—å 3 –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏
    And –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∞ "–ú–∞—Ä—Å" –∑–∞–Ω—è—Ç–∞ —Å 14:00 –¥–æ 15:00
    When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç "—Å–≤–æ–±–æ–¥–Ω–∞?"
    Then –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 2 —Å–≤–æ–±–æ–¥–Ω—ã–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏
    And "–ú–∞—Ä—Å" –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∑–∞–Ω—è—Ç–∞—è –¥–æ 15:00

  Scenario: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏
    Given –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∞ "–í–µ–Ω–µ—Ä–∞" —Å–≤–æ–±–æ–¥–Ω–∞
    When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç "–±—Ä–æ–Ω—å –í–µ–Ω–µ—Ä–∞ 15:00-16:00"
    Then –±–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –±—Ä–æ–Ω—å –Ω–∞ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    And –±–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## Working with Claude

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Claude Code:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å .feature —Ñ–∞–π–ª—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ step definitions
- –ü—Ä–æ—Å–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- –î–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π —Ñ–∏—á–∏
- –ü—Ä–æ—Å–∏—Ç—å —É–ª—É—á—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Ö–æ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## Testing Philosophy

**–¢–µ—Å—Ç—ã - —ç—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞:
- BDD-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —è–∑—ã–∫–µ –±–∏–∑–Ω–µ—Å–∞
- –ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç–∞ —Ç–µ—Å—Ç–∞–º–∏
- –¢–µ—Å—Ç—ã –ø–∏—à—É—Ç—Å—è –î–û –∫–æ–¥–∞ (Test-First)
- –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Ç–∞–µ–º—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏

## Delivery Checklist

–ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [x] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
- [x] README —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –∑–∞–ø—É—Å–∫–∞
- [x] CLAUDE.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã —Å AI
- [x] BDD .feature —Ñ–∞–π–ª—ã (pytest-bdd)
- [x] –¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] 10+ –∫–æ–º–º–∏—Ç–æ–≤ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- [x] MVP —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∑–∞–∫–∞–∑—á–∏–∫–∞

---

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫

### –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ò–∑ 20 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤—ã–±—Ä–∞–Ω **#1: –ü–ï–†–ï–ì–û–í–û–†–ö–ò** (Telegram –±–æ—Ç –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫).

**–ü–æ—á–µ–º—É —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç:**
1. –ß–µ—Ç–∫–∏–µ –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏ ‚Üí –ª–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å BDD-—Ç–µ—Å—Ç—ã
2. –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Üí –ø–æ–Ω—è—Ç–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ú–Ω–æ–≥–æ edge cases ‚Üí –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è TDD –ø–æ–¥—Ö–æ–¥–∞
4. Telegram –±–æ—Ç ‚Üí –ø–æ–ø—É–ª—è—Ä–Ω–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, —É–¥–æ–±–Ω—ã–π UX
5. –•–æ—Ä–æ—à–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å ‚Üí –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ BDD

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

#### –ü—Ä–æ–±–ª–µ–º–∞: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ —Å—Ç–µ–ø–∞—Ö

–ù–∞ –Ω–∞—á–∞–ª—å–Ω–æ–º —ç—Ç–∞–ø–µ step definitions —Å–æ–¥–µ—Ä–∂–∞–ª–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∫–æ–¥–∞ –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏ –∏ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.

**–†–µ—à–µ–Ω–∏–µ**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ Clean Architecture —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ Repository –∏ Service Layer:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Presentation Layer              ‚îÇ
‚îÇ  (bot.py - Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          Service Layer                  ‚îÇ
‚îÇ  (service.py - –≤—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       Repository Interface              ‚îÇ
‚îÇ  (repository.py - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                      ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ SQLite Repo   ‚îÇ    ‚îÇ InMemory Repo    ‚îÇ
‚îÇ (production)  ‚îÇ    ‚îÇ (tests)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å InMemoryRepository ‚Üí –±—ã—Å—Ç—Ä–æ (0.04s –¥–ª—è 10 —Ç–µ—Å—Ç–æ–≤)
- Service Layer –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç Telegram ‚Üí –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å CLI –∏–ª–∏ Web API
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Üí –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è dependency injection ‚Üí –ª–µ–≥–∫–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Python 3.12**
- **aiogram 3.3.0** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π async —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **pytest-bdd 6.1.1** - BDD —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Gherkin
- **SQLite** - embedded –ë–î –¥–ª—è production
- **InMemory Repository** - –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤

### BDD –°—Ü–µ–Ω–∞—Ä–∏–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 5 feature —Ñ–∞–π–ª–æ–≤ —Å 10 —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏:

1. **list_rooms.feature** (1 —Å—Ü–µ–Ω–∞—Ä–∏–π)
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫ —Å –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é

2. **view_rooms.feature** (2 —Å—Ü–µ–Ω–∞—Ä–∏—è)
   - –í—Å–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏ —Å–≤–æ–±–æ–¥–Ω—ã
   - –û–¥–Ω–∞ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∞ –∑–∞–Ω—è—Ç–∞ (–ø–æ–∫–∞–∑ –≤—Ä–µ–º–µ–Ω–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è)

3. **book_room.feature** (3 —Å—Ü–µ–Ω–∞—Ä–∏—è)
   - –£—Å–ø–µ—à–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω—è—Ç—É—é –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫—É
   - –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (conflict detection)

4. **release_room.feature** (2 —Å—Ü–µ–Ω–∞—Ä–∏—è)
   - –î–æ—Å—Ä–æ—á–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Å–≤–æ–µ–π –±—Ä–æ–Ω–∏
   - –ü–æ–ø—ã—Ç–∫–∞ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —á—É–∂—É—é –±—Ä–æ–Ω—å (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤)

5. **who_booked.feature** (2 —Å—Ü–µ–Ω–∞—Ä–∏—è)
   - –°—Ç–∞—Ç—É—Å –∑–∞–Ω—è—Ç–æ–π –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏ (–∫—Ç–æ –∏ –¥–æ –∫–æ–≥–¥–∞)
   - –°—Ç–∞—Ç—É—Å —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏

**–í—Å–µ 10 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç** (GREEN —Ñ–∞–∑–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞).

### –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### 1. Gherkin –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –Ω–æ —Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

pytest-bdd –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (`–§—É–Ω–∫—Ü–∏—è`, `–°—Ü–µ–Ω–∞—Ä–∏–π`), –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–∏–±—Ä–∏–¥:

```gherkin
Feature: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏
  –ö–∞–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –æ—Ñ–∏—Å–∞
  –Ø —Ö–æ—á—É –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫—É

  Scenario: –£—Å–ø–µ—à–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∏
    Given –≤ —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∞ "–ú–∞—Ä—Å"
    When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É "/book –ú–∞—Ä—Å 15:00-16:00"
    Then –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –∏–º—è "–í–∞—Å—è"
```

#### 2. Conflict Detection —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π:

```python
def check_booking_conflict(self, room_name, start_time, end_time):
    # –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞:
    # 1. –ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
    # 2. –ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
    # 3. –ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ
```

–≠—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º BDD-—Å—Ü–µ–Ω–∞—Ä–∏–µ–º "–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è".

#### 3. InMemory Repository –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤

```python
class InMemoryRepository(RoomRepository):
    def __init__(self):
        self.rooms: Dict[str, Dict[str, Any]] = {}
        self.bookings: Dict[int, Dict[str, Any]] = {}
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ù–µ—Ç I/O –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–µ –ø–∏—à–µ—Ç –Ω–∞ –¥–∏—Å–∫)
- –ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (instant)
- –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏ (–∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)

–†–µ–∑—É–ª—å—Ç–∞—Ç: **10 —Ç–µ—Å—Ç–æ–≤ –∑–∞ 0.04 —Å–µ–∫—É–Ω–¥—ã**.

#### 4. Service Layer —Å —á–µ—Ç–∫–∏–º API

```python
# –í—Å–µ –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç dict —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
result = service.book_room(
    room_name="–ú–∞—Ä—Å",
    user_id=12345,
    username="–í–∞—Å—è",
    time_range="15:00-16:00"
)

# result = {
#     'success': True,
#     'message': '‚úÖ –ú–∞—Ä—Å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω –Ω–∞ 15:00-16:00',
#     'booking_id': 42
# }
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è:
- Telegram –±–æ—Ç–∞ (–∫–∞–∫ —Å–µ–π—á–∞—Å)
- CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- REST API
- GraphQL API
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å Claude

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Claude Code

1. **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤**: Claude –ø–æ–º–æ–≥ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ 20 –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–ª–∞

2. **BDD —Å—Ü–µ–Ω–∞—Ä–∏–∏**: –°–æ–≤–º–µ—Å—Ç–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ feature —Ñ–∞–π–ª–æ–≤ —Å —É—á–µ—Ç–æ–º edge cases

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**: Claude –ø—Ä–µ–¥–ª–æ–∂–∏–ª Repository pattern –ø–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤ —Å—Ç–µ–ø–∞—Ö

4. **–û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤**: –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å pytest-bdd –∏ Gherkin

5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü–æ–º–æ—â—å –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ README –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ CLAUDE.md

#### –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã

**–ß—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ —Ö–æ—Ä–æ—à–æ:**
- BDD-first –ø–æ–¥—Ö–æ–¥ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–æ–¥—É–º–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- InMemory repository = instant feedback loop –≤ —Ç–µ—Å—Ç–∞—Ö
- Service Layer –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º
- Claude —Ö–æ—Ä–æ—à–æ –≤–∏–¥–∏—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**
- –†–∞–Ω—å—à–µ –¥—É–º–∞—Ç—å –æ–± –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ (repository pattern —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞)
- –ë–æ–ª–µ–µ —á–µ—Ç–∫–∏–µ Gherkin —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–∏–∑–±–µ–≥–∞—Ç—å —Ä—É—Å—Å–∫–∏—Ö –ø–∞–¥–µ–∂–µ–π —Ç–∏–ø–∞ "–í–∞—Å–µ–π"/"–í–∞—Å—è")
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º SQLite

### –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –¥–ª—è production, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –±—Ä–æ–Ω–∏
2. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**: –í—Å—Ç—Ä–µ—á–∏ –∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 10:00
3. **–ö–∞–ª–µ–Ω–¥–∞—Ä—å**: Inline keyboard —Å –≤—ã–±–æ—Ä–æ–º –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏
4. **–ê–¥–º–∏–Ω–∫–∞**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫–∞–º–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫
6. **Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –î–∞—à–±–æ—Ä–¥ –Ω–∞ Flask/FastAPI –ø–æ–≤–µ—Ä—Ö —Ç–æ–≥–æ –∂–µ Service Layer

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —ç—Ç–∏ —Ñ–∏—á–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è core –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

### –≠–≤–æ–ª—é—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (Phase 2)

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è MVP, –ø—Ä–æ–µ–∫—Ç –ø—Ä–æ—à–µ–ª 3 –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–≤–æ–ª—é—Ü–∏–∏:

#### Evolution 1: Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è üê≥

**–¶–µ–ª—å**: –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ docker-compose

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- Dockerfile —Å Python 3.11-slim
- docker-compose.yml —Å volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª (TELEGRAM_BOT_TOKEN, ADMIN_USER_ID)
- .env.example –∫–∞–∫ —à–∞–±–ª–æ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π `docker-compose up -d`

#### Evolution 2: –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ ‚úÖ

**–¶–µ–ª—å**: Unit –∏ integration —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–ª–æ–µ–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- **Unit —Ç–µ—Å—Ç—ã Database layer** (18 —Ç–µ—Å—Ç–æ–≤): CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, —Å—Ö–µ–º–∞ –ë–î
- **Unit —Ç–µ—Å—Ç—ã Service layer** (31 —Ç–µ—Å—Ç): –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Unit —Ç–µ—Å—Ç—ã Admin service** (15 —Ç–µ—Å—Ç–æ–≤): –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º–∏
- **Integration —Ç–µ—Å—Ç—ã Repository** (14 —Ç–µ—Å—Ç–æ–≤): —Ä–µ–∞–ª—å–Ω—ã–π SQLite, –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 88 —Ç–µ—Å—Ç–æ–≤ (10 BDD + 78 unit/integration), –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

#### Evolution 3: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã üëë

**–¶–µ–ª—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –¢–∞–±–ª–∏—Ü–∞ `admins` –≤ –ë–î —Å CRUD –º–µ—Ç–æ–¥–∞–º–∏
- 5 admin –∫–æ–º–∞–Ω–¥ –≤ –±–æ—Ç–µ:
  - `/admin_add_room <–Ω–∞–∑–≤–∞–Ω–∏–µ> <–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å>` - –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫—É
  - `/admin_delete_room <–Ω–∞–∑–≤–∞–Ω–∏–µ>` - —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫—É –∏ –µ—ë –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - `/admin_add` - –¥–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∞ (reply to message)
  - `/admin_remove` - —É–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∞ (reply to message)
  - `/admin_list` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–¥–º–∏–Ω–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (`_check_admin`) –¥–ª—è –≤—Å–µ—Ö admin –∫–æ–º–∞–Ω–¥
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ –∏–∑ ADMIN_USER_ID –≤ .env
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Production-ready –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –≤ –±–æ—Ç–µ

### –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ—Å–ª–µ —ç–≤–æ–ª—é—Ü–∏–π)

#### –ö–æ–º–º–∏—Ç—ã
- **MVP**: 9 –∫–æ–º–º–∏—Ç–æ–≤
- **–≠–≤–æ–ª—é—Ü–∏–∏**: 7 –∫–æ–º–º–∏—Ç–æ–≤
- **–ò—Ç–æ–≥–æ**: 16 –∫–æ–º–º–∏—Ç–æ–≤ (–∫–∞–∂–¥—ã–π –ª–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
pytest -v  # 88 passed in 1.15s
```
- **BDD —Ç–µ—Å—Ç—ã**: 10 (pytest-bdd, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç)
- **Unit —Ç–µ—Å—Ç—ã Database**: 18
- **Unit —Ç–µ—Å—Ç—ã Service**: 31
- **Unit —Ç–µ—Å—Ç—ã Admin**: 15
- **Integration —Ç–µ—Å—Ç—ã**: 14
- **–ò—Ç–æ–≥–æ**: 88 —Ç–µ—Å—Ç–æ–≤

#### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Python 3.11+**
- **aiogram 3.3.0** - Telegram Bot API
- **pytest 7.4.3 + pytest-bdd 6.1.1** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **python-dotenv 1.0.0** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Docker + docker-compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **SQLite** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Clean Architecture)
```
Presentation ‚Üí Service ‚Üí Repository ‚Üí Database
    (bot)       (logic)    (abstract)   (SQLite)
```

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **README.md**: –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ (Docker + –ª–æ–∫–∞–ª—å–Ω–æ), BotFather setup, –ø—Ä–∏–º–µ—Ä—ã –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
- **CLAUDE.md**: –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞ —Å AI
- **exam-process/**: 3 –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —ç–≤–æ–ª—é—Ü–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞
- **.env.example**: —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã (7):**
- `/start`, `/rooms`, `/available`, `/book`, `/release`, `/status`, `/mybooks`

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (5):**
- `/admin_add_room`, `/admin_delete_room`, `/admin_add`, `/admin_remove`, `/admin_list`

**–ò—Ç–æ–≥–æ**: 12 –∫–æ–º–∞–Ω–¥

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞ –≤ BotFather

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ BotFather:

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setcommands` –±–æ—Ç—É [@BotFather](https://t.me/botfather)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ (—Å–º. README.md —Ä–∞–∑–¥–µ–ª "–í–∞—Ä–∏–∞–Ω—Ç 1", –ø—É–Ω–∫—Ç 3c)

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–∏–¥–µ—Ç—å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∫–æ–º–∞–Ω–¥ –≤ Telegram.

### –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram ID

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID:

–ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@getmyid_bot](https://t.me/getmyid_bot) –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π ID –≤ `.env`:
```bash
ADMIN_USER_ID=123456789
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–û—Ü–µ–Ω–∫–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è):**
1. –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å MVP: 5/5 (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, production-ready)
2. –≠–≤–æ–ª—é—Ü–∏—è –∫–æ–º–º–∏—Ç–æ–≤: 5/5 (16 –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤, –≤–∏–¥–Ω–∞ —ç–≤–æ–ª—é—Ü–∏—è)
3. –¢–µ—Å—Ç—ã: 5/5 (88 —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö, BDD + unit + integration)
4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 5/5 (–ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
5. Vibe Coding: 5/5 (BDD-first, TDD cycle, Claude –∫–∞–∫ —Å–æ–∞–≤—Ç–æ—Ä –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö)

**–ò—Ç–æ–≥–æ: 25/25**
